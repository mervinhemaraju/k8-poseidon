apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
metadata:
  name: uptime-kuma

namespace: uptimekuma

resources:
  - namespace.yaml
  - ingress.yaml

helmCharts:
  - name: uptime-kuma
    repo: https://dirsigler.github.io/uptime-kuma-helm
    releaseName: uptime-kuma
    version: 2.22.0
    namespace: uptimekuma
    includeCRDs: true
    additionalValuesFiles:
      - values.yaml
    valuesInline:
      persistence:
        enabled: false
      volumes:
        - name: storage
          emptyDir: {}
      volumeMounts:
        - name: storage
          mountPath: /app/data